"use strict";(self.webpackChunksolome_js_org=self.webpackChunksolome_js_org||[]).push([[237],{2918:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var i=t(7294),r=t(2600),o=t(5742),a=t(9477),l=t(9365),s=t(2260),c=t(410),d=t(2125);function u(){return{width:window.innerWidth,height:window.innerHeight}}function m(){var e=i.useRef(null),n=function(){var e=(0,i.useState)(u),n=e[0],t=e[1];return(0,i.useEffect)((function(){var e=function(){return t(u())};return window.addEventListener("resize",e,!1),function(){return window.removeEventListener("resize",e,!1)}})),n}();return i.useEffect((function(){if(e.current){var n=setInterval((function(){window.Ammo&&(console.log("Ammo---",window.Ammo),console.log("intervalID",n),n&&clearInterval(n),window.Ammo().then((function(){return function(e){var n={runing:!0},t=new a.SUY,i=new a.cPb(45,e.clientWidth/e.clientHeight,1,2e3);i.position.z=30;var r=new a.xsS;r.background=new a.Ilk(16777214);var o=new a.aq0(30,10,12);o.position.y=-10,r.add(o);var u=new a.Mig(6710886);r.add(u);var m=new a.Ox3(8943462);m.position.set(-1,1,1).normalize(),r.add(m);var w=new a.CP7({antialias:!0});w.setPixelRatio(window.devicePixelRatio),w.setSize(e.clientWidth,e.clientHeight),console.log("container.appendChild(renderer.domElement)"),e.appendChild(w.domElement);var v=new s.M(w),f=new d._({afterglow:2});(new c.k).loadWithAnimation("/three/examples/models/mmd/miku/miku_v2.pmd",["/three/examples/models/mmd/vmds/wavefile_v2.vmd"],(function(e){var n=e.mesh;n.position.y=-10,r.add(n),f.add(n,{animation:e.animation,physics:!0});var t=f.objects.get(n).ikSolver.createHelper();t.visible=!1,r.add(t);var i=f.objects.get(n).physics.createHelper();i.visible=!1,r.add(i)}),(function(e){if(e.lengthComputable){var n=e.loaded/e.total*100;console.log(Math.round(n)+"% downloaded")}}),null);var h=new l.z(i,w.domElement);h.minDistance=10,h.maxDistance=100;var p=new ResizeObserver((function(){i.aspect=e.clientWidth/e.clientHeight,i.updateProjectionMatrix(),v.setSize(window.innerWidth,window.innerHeight)}));p.observe(e);var g=function(){f.update(t.getDelta()),v.render(r,i)};return function e(){n.runing&&(requestAnimationFrame(e),g())}(),{dispose:function(){n.runing=!1,p.unobserve(e),p.disconnect()}}}(e.current)})))}),100);return function(){n&&clearInterval(n)}}}),[]),i.createElement("div",{style:{width:n.width+"px",height:n.height-60+"px"},className:"HatsuneMiku",ref:e})}var w=t(1262);function v(){return i.createElement(i.Fragment,null,i.createElement(o.Z,null,i.createElement("script",{src:"/three/examples/js/libs/ammo.wasm.js"})),i.createElement(r.Z,{title:"\u63ac\u4e00\u6367\u6e05\u6c34\u7aa5\u660e\u6708",description:"\u6bcf\u4e2a\u4eba\u90fd\u4f1a\u9047\u5230\u7684\u4e00\u4e2a\u670b\u53cb\uff0c\u4ed6\u7684\u601d\u60f3\uff0c\u4ed6\u7684\u4ef7\u503c\u89c2\uff0c\u90fd\u4f1a\u8ba9\u4f60\u5f88\u6b23\u8d4f\u4ed6\uff0c\u4f46\u662f\u56e0\u4e3a\u5229\u76ca\u51fa\u5356\u4e86\u4f60..."},i.createElement("main",null,i.createElement(w.Z,null,(function(){return i.createElement(m,null)})))))}}}]);