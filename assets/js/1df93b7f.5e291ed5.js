"use strict";(self.webpackChunksolome_js_org=self.webpackChunksolome_js_org||[]).push([[237],{9711:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(7294),s=n(2600),r=n(5742);const a="main-wrapper_AjrE",o="main_iUjq";var l=n(9477),c=n(9365),d=n(2260),m=n(410),u=n(2125);function w(){return{width:window.innerWidth,height:window.innerHeight}}function h(){const e=i.useRef(null);!function(){const[e,t]=(0,i.useState)(w);(0,i.useEffect)((()=>{const e=()=>t(w());return window.addEventListener("resize",e,!1),()=>window.removeEventListener("resize",e,!1)}))}();return i.useEffect((()=>{if(!e.current)return;const t=setInterval((()=>{window.Ammo&&(t&&clearInterval(t),window.Ammo().then((()=>function(e){const t={runing:!0},n=new l.SUY,i=new l.cPb(45,e.clientWidth/e.clientHeight,1,2e3);i.position.z=30;const s=new l.xsS;s.background=new l.Ilk(16777214);const r=new l.aq0(30,10,12);r.position.y=-10,s.add(r);const a=new l.Mig(6710886);s.add(a);const o=new l.Ox3(8943462);o.position.set(-1,1,1).normalize(),s.add(o);const w=new l.CP7({antialias:!0});w.setPixelRatio(window.devicePixelRatio),w.setSize(e.clientWidth,e.clientHeight),e.appendChild(w.domElement);const h=new d.M(w),p=new u._({afterglow:2});(new m.k).loadWithAnimation("/three/examples/models/mmd/miku/miku_v2.pmd",["/three/examples/models/mmd/vmds/wavefile_v2.vmd"],(function(e){const t=e.mesh;t.position.y=-10,s.add(t),p.add(t,{animation:e.animation,physics:!0});const n=p.objects.get(t).ikSolver.createHelper();n.visible=!1,s.add(n);const i=p.objects.get(t).physics.createHelper();i.visible=!1,s.add(i)}),(e=>{e.lengthComputable&&(e.loaded,e.total)}),null);const v=new c.z(i,w.domElement);v.minDistance=10,v.maxDistance=100;const g=new ResizeObserver((()=>{i.aspect=e.clientWidth/e.clientHeight,i.updateProjectionMatrix(),h.setSize(e.clientWidth,e.clientHeight)}));g.observe(e);const f=()=>{t.runing&&(requestAnimationFrame(f),E())},E=()=>{p.update(n.getDelta()),h.render(s,i)};return f(),{dispose:()=>{t.runing=!1,g.unobserve(e),g.disconnect()}}}(e.current))))}),100);return()=>{t&&clearInterval(t)}}),[]),i.createElement("div",{style:{width:"100%",height:"100%"},className:"HatsuneMiku",ref:e})}var p=n(1262);function v(){return i.createElement(i.Fragment,null,i.createElement(r.Z,null,i.createElement("script",{src:"/three/examples/js/libs/ammo.wasm.js"})),i.createElement(s.Z,{title:"\u63ac\u4e00\u6367\u6e05\u6c34\u7aa5\u660e\u6708",description:"\u6bcf\u4e2a\u4eba\u90fd\u4f1a\u9047\u5230\u7684\u4e00\u4e2a\u670b\u53cb\uff0c\u4ed6\u7684\u601d\u60f3\uff0c\u4ed6\u7684\u4ef7\u503c\u89c2\uff0c\u90fd\u4f1a\u8ba9\u4f60\u5f88\u6b23\u8d4f\u4ed6\uff0c\u4f46\u662f\u56e0\u4e3a\u5229\u76ca\u51fa\u5356\u4e86\u4f60...",wrapperClassName:a},i.createElement("main",{className:o},i.createElement(p.Z,null,(()=>i.createElement(h,null))))))}}}]);